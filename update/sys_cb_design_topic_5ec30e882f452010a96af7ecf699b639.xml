<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Open IT Ticket (Template)">56c30e882f452010a96af7ecf699b636</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"00cc7b3559c54d61b882cb85804d3cf0","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"00cc7b3559c54d61b882cb85804d3cf0"}],"goals":[{"name":"primary","trigger_id":"00cc7b3559c54d61b882cb85804d3cf0","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":""},"id":"6d719a50025442d89bfc6bcc0ea097f5","name":"Start","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"aa32c52a30c74e7e90a943a52dc1434d","name":"End","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"99259e34c31840c5941daa3fb26ceb8d","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Please enter a short description of your issue.\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"b3c273f4363e4da0bbdae7a4a49260c2","name":"Short Description","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"kb_results_helpful=true"},"id":"29c176cf10b4407a822f4518b34dcd2f","name":"Yes"},{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"kb_results_helpful!=true"},"id":"061cb47b456d4d47922abf42b7b33cfa","name":"No"}],"id":"09aea3c778884e73b41e5f758dd41e29","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Description Is Empty","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaInputs.short_description.getValue().trim() == '');\n})()\n"},"id":"3aba485c86f640deaf0ec7a744e712fd","name":"Description Is Empty"},{"type":"Branch","label":"Description Is Not Empty","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaInputs.short_description.getValue().trim() != '');\n})()\n"},"id":"ea0f39aaa4a24250b0ead109234f5ced","name":"Description Is Not Empty"}],"id":"227b5883c8984be684aea413ad5e8a2e","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"b071de2795454a4a8507eb618f4d3476","name":"Urgency","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"75daa0a8097d4adc8950c8c24e1786dd","message":{"type":"String","mode":"script","value":"(function execute() {\n    var create_ur = gs.getProperty(\"sn_itsm_va.com.snc.create_universal_request_with_incident\");\n  if(new GlidePluginManager().isActive(\"com.snc.universal_request\") &amp;&amp; create_ur == \"true\") {\n        if (vaVars.count &gt; 0) \n           return gs.getMessage('OK, what\\'s the urgency of your request?');\n        else\n           return gs.getMessage('What\\'s the urgency of your request?');\n    }\n    else {\n        if (vaVars.count &gt; 0)\n           return gs.getMessage('OK, what\\'s the urgency of your issue?');\n        else\n           return gs.getMessage('What\\'s the urgency of your issue?');\n    }\n})()"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":true,"use_confirmation_prompt":false},"expression_mode":"script","script":"(function execute() {\n    var choices = new GlideChoiceList();\n    // Getting all the choices for urgency.\n    var choiceList = choices.getChoiceList('incident', 'urgency');\n    \n    var options = [];\n\n    for (var i=0; i &lt; choiceList.getSize(); i++) {\n        options.push({'value': choiceList.getChoice(i).getValue(), 'label': choiceList.getChoice(i).getLabel()});\n    }\n    \n    return options;    \n})()\n","no_options_found_message":{"type":"String","mode":"string","value":"OK, got it."},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var choices = new GlideChoiceList();\n    // Getting all the choices for urgency.\n    var choiceList = choices.getChoiceList('incident', 'urgency');\n    \n    var options = [];\n\n    for (var i=0; i &lt; choiceList.getSize(); i++) {\n        options.push({'value': choiceList.getChoice(i).getValue(), 'label': choiceList.getChoice(i).getLabel()});\n    }\n    \n    return options;    \n})()\n"}},{"type":"LibraryCall","library_topic_name":"Create Incident","library_topic_id":"ef2d8306737333003ade8889faf6a790","parameter-mappings":[{"parameter-name":"caller","value":{"type":"String","mode":"string","value":"{{vaInputs.user}}"}},{"parameter-name":"short_description","value":{"type":"String","mode":"string","value":"{{vaInputs.short_description}}"}},{"parameter-name":"urgency","value":{"type":"String","mode":"string","value":"{{vaInputs.urgency}}"}},{"parameter-name":"description","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"}},{"parameter-name":"cmdb_ci","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"created_incident_sys_id","main_topic_mapped_variable_name":"created_incident_sys_id"}],"id":"fdbc449293b64037845b5532be506af5","name":"Create Incident","goal_id":"primary"},{"type":"LibraryCall","library_topic_name":"Contextual Search","library_topic_id":"d9dec393b3973300dbbf6030c6a8dc27","parameter-mappings":[{"parameter-name":"context","value":{"type":"String","mode":"string","value":"2821675a5b30130070e4492c11f91a89"}},{"parameter-name":"query","value":{"type":"String","mode":"string","value":"{{vaInputs.short_description}}"}},{"parameter-name":"portal","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"}},{"parameter-name":"kb_knowledge_base","value":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"results_returned","main_topic_mapped_variable_name":"kb_results_returned"},{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"results_helpful","main_topic_mapped_variable_name":"kb_results_helpful"}],"id":"90c3cd8613aa420a93168f5a3fb2a9c9","name":"Contextual Search","goal_id":"primary"}],"edges":[{"type":"Edge","source_node_id":"90c3cd8613aa420a93168f5a3fb2a9c9","target_node_id":"09aea3c778884e73b41e5f758dd41e29","id":"272d89766fce446bbcfdd618fa5aa92e"},{"type":"Edge","source_node_id":"fdbc449293b64037845b5532be506af5","target_node_id":"aa32c52a30c74e7e90a943a52dc1434d","id":"f66a993aa95949e1ab7ed85cabc499ce"},{"type":"Edge","source_node_id":"09aea3c778884e73b41e5f758dd41e29","target_node_id":"aa32c52a30c74e7e90a943a52dc1434d","branch_id":"29c176cf10b4407a822f4518b34dcd2f","id":"9427ea8ca83d495d9ea4ae6db5c28806","name":"29c176cf10b4407a822f4518b34dcd2f"},{"type":"Edge","source_node_id":"6d719a50025442d89bfc6bcc0ea097f5","target_node_id":"b3c273f4363e4da0bbdae7a4a49260c2","id":"a80aea785aba424dbd91bd3e01f10667"},{"type":"Edge","source_node_id":"09aea3c778884e73b41e5f758dd41e29","target_node_id":"b071de2795454a4a8507eb618f4d3476","branch_id":"061cb47b456d4d47922abf42b7b33cfa","id":"9ce88aa740cf47a7847cc5abfda3d933","name":"061cb47b456d4d47922abf42b7b33cfa"},{"type":"Edge","source_node_id":"b3c273f4363e4da0bbdae7a4a49260c2","target_node_id":"227b5883c8984be684aea413ad5e8a2e","id":"d91f4cea3e534077a4d4b1841c8d018c"},{"type":"Edge","source_node_id":"227b5883c8984be684aea413ad5e8a2e","target_node_id":"b3c273f4363e4da0bbdae7a4a49260c2","branch_id":"3aba485c86f640deaf0ec7a744e712fd","id":"c8a478f5f05f48a38a673902df684170","name":"3aba485c86f640deaf0ec7a744e712fd"},{"type":"Edge","source_node_id":"b071de2795454a4a8507eb618f4d3476","target_node_id":"fdbc449293b64037845b5532be506af5","id":"0e6cdc37955e4948ae3726c3fb04c75a"},{"type":"Edge","source_node_id":"227b5883c8984be684aea413ad5e8a2e","target_node_id":"90c3cd8613aa420a93168f5a3fb2a9c9","branch_id":"ea0f39aaa4a24250b0ead109234f5ced","id":"ee9b767c809a4f25a803bf9207f118e7","name":"ea0f39aaa4a24250b0ead109234f5ced"}],"id":"primary"}],"script_variables":[{"type":"String","name":"limit","value":{"type":"String","mode":"string","value":"5"},"id":"18e2eaafa80f4504ac71bf841c795ee6","formatType":"text"},{"type":"String","name":"count","value":{"type":"String","mode":"string","value":"0"},"id":"86f0336e413a44a0b32ac745298b47d4","formatType":"text"},{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string","value":"itsm"},"id":"78add6caf6a54c07a269f8db47973b49","formatType":"text"},{"type":"String","name":"portal","value":{"type":"String","mode":"string","value":"sp"},"id":"b531ddd2b8204c89a65466c0384e7115","formatType":"text"}],"glide_variables":[{"type":"String","name":"short_description","id":"99259e34c31840c5941daa3fb26ceb8d","formatType":"Text","validationScript":""},{"type":"Choice","choices":[],"id":"75daa0a8097d4adc8950c8c24e1786dd","name":"urgency","formatType":"text","table":""},{"type":"String","name":"kb_results_returned","id":"1660003dd414468fa85a04b20a9f5cf1","formatType":"text"},{"type":"String","name":"kb_results_helpful","id":"c852778741594e3b8e9e5a7999c3455f","formatType":"text"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text"},{"type":"String","name":"created_incident_sys_id","id":"08d94fce25b7495395e9e620ae6534bd","formatType":"text"}],"applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    var gr = new GlideRecord('incident');\n    return gr.canCreate();\n})()\n"},"roles":[],"scope":"134450a0b3781300787162ac16a8dc1e","domain":"global","topic_type":"STANDARD","channels":[],"id":"703538a8db3813005dd0dfea5e9619fc","name":"Open IT Ticket (Template)","key_phrases":["create","open","incident","ticket","issue","broken","help","IT"],"nlu_provider":"","nlu_model":"sn_itsm_nlu_ITSM_NLU_for_VA","nlu_model_label":"","nlu_intent":"OpenITTicket","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"3efd22da0b203300a1b16c2367673a10","library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>703538a8db3813005dd0dfea5e9619fc</design_topic_id>
        <name>Open IT Ticket (Template)</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-12-08 05:59:20</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>5ec30e882f452010a96af7ecf699b639</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_5ec30e882f452010a96af7ecf699b639</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-12-08 05:59:20</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
